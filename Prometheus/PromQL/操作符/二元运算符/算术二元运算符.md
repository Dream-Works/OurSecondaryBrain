---
tags:
  - PromQL
---
在 [[Prometheus]] 系统中支持下面的二元算术运算符：
- `+` 加法
- `-` 减法
- `*` 乘法
- `/` 除法
- `%` 模
- `^` 幂等

二元运算操作符支持
- `scalar/scalar(标量/标量)`
  在两个标量之间进行数学运算，得到的结果也是标量。

- `vector/scalar(向量/标量)`
  在向量和标量之间，运算符会作用于这个向量的每个样本值上。

  例如：如果一个时间序列瞬时向量除以 2，操作结果也是一个新的瞬时向量，且度量指标名称不变，它是原度量指标瞬时向量的每个样本值除以 2。

- `vector/vector(向量/向量)`
  如果是瞬时向量与瞬时向量之间进行数学运算时，过程会相对复杂一点，运算符会以此找到与左边向量元素匹配（标签完全一致）的右边向量预算进行运算，如果没找到匹配原酸，则直接丢弃。同事新的时间序列将不会包含指标名称。

  例如：
  如果我们想根据 `node_dick_bytes_written` 和 `node_dicsk_bytes_read` 获取主机磁盘的 IO 的总量，可以使用如下表达式：
```promql
node_disk_bytes_wirtten + node_disk_bytes_read

# 返回结果示例
{device="sda",instance="localhost:9100",job="node_exporter"}=>1634967552@1518146427.807 + 864551424@1518146427.807
{device="sdb",instance="localhost:9100",job="node_exporter"}=>0@1518146427.807 + 1744384@1518146427.807
```

之间的操作。
